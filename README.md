# PulseMonitor

**Клиентская библиотека для мониторинга временных характеристик асинхронных операций веб-приложений и выявления аномалий**

## Описание

PulseMonitor — минималистичная JavaScript-библиотека для сбора и анализа временных характеристик асинхронных событий в веб-приложениях. Отслеживает клики пользователя, вызовы `fetch`, `sendBeacon`, long tasks и Web Workers, вычисляет интервалы между событиями и выявляет аномалии по отклонениям от эталонной временной модели (2–3σ).

## Возможности

- Детекция аномалий по временным характеристикам
- Не блокирует UI — вычисления в Web Worker
- Визуальный индикатор состояния (зелёный/жёлтый/красный)
- Гибкие пороги по типам событий
- Надёжная отправка через `sendBeacon` + `fetch keepalive`

## Подключение

```html
<script src="./pulse-monitor.js"></script>
```

## Быстрый старт

```Javascript
const monitor = new PulseMonitor({
  url: 'https://your-server.com/api/pulse',
  batchSize: 5,
  threshold: {
    click: { warn: 2, err: 3 },
    fetch: { warn: 3, err: 5 }
  },
  window: 3000
});
```
## API

| Метод                         | Описание            |
| ----------------------------- | ------------------- |
| setThreshold(type, warn, err) | Изменить пороги     |
| getStats()                    | Получить статистику |
| exportEvents()                | Выгрузить события   |

## Пример

Нормальный режим: 12 fetch/мин, 0.2% ошибок, зелёный индикатор
Инцидент: 47 fetch/мин (+292%), 31% ошибок, красный индикатор через 22с


